use Libraries.Containers.HashTable
use Libraries.Containers.Stack

class StateStack 
    HashTable<text, IState> stateTable
    Stack<IState> stateStack
    action Update (number t)
        IState top = stateStack:Peek()
        top:Update(t)
    end
    action Render()
        IState top = stateStack:Peek()
        top:Render()
    end
    action Push(text name)
        IState a_state = stateTable:GetValue(name)
        stateStack:Push(a_state)
    end
    action Pop returns IState
        return stateStack:Pop()
    end
end